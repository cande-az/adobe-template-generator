{"ast":null,"code":"var _jsxFileName = \"/Users/candeaznarez/Documents/Programacion/Repositorios/adobe-template-generator/src/components/formGenerators/formMultiSteps.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useTemplateContext } from \"../../context/index\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst FormMultiSteps = () => {\n  _s();\n\n  const {\n    templateOptions,\n    templateOptionsNames,\n    setCurrentTemplateData,\n    currentTemplateData,\n    templateDataList\n  } = useTemplateContext().templateContext;\n  const emptyModel = templateOptionsNames.reduce((o, key) => key !== \"orden\" ? Object.assign(o, {\n    [key]: \"\"\n  }) : Object.assign(o, {\n    [key]: 1\n  }), {});\n  const [stepsData, setStepsData] = React.useState(templateDataList.length ? templateDataList : [emptyModel]);\n\n  const handleOnAdd = e => {\n    const newModel = { ...emptyModel,\n      orden: stepsData.length + 1\n    };\n    setStepsData([...stepsData, newModel]);\n  };\n\n  const handleOnChange = e => {\n    setStepsData(stepsData.map((step, index) => {\n      if (parseInt(e.target.id) === index) {\n        return step = { ...step,\n          [e.target.name]: e.target.value\n        };\n      }\n\n      return step;\n    }));\n  };\n\n  const handleOnSubmit = e => {\n    e.preventDefault();\n    console.log(stepsData);\n    setCurrentTemplateData({ ...currentTemplateData,\n      templateDataList: stepsData.map(step => ({ ...step\n      })),\n      renderResult: true,\n      currentStep: 3\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-wrap justify-content-end gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-alert\",\n        onClick: e => handleOnAdd(e),\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-primary\",\n        onClick: e => handleOnSubmit(e),\n        children: \"Finish\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), stepsData && templateOptions ? stepsData.map((step, index) => /*#__PURE__*/_jsxDEV(\"form\", {\n      id: `${index}`,\n      onChange: e => handleOnChange(e),\n      className: \"row py-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"Step \", index + 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }, this), templateOptions.map(option => /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: option.isEditable ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label  text-capitalize\",\n            children: option.displayName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: `${index}`,\n            placeholder: \"\",\n            name: option.option,\n            value: stepsData ? stepsData[index][option.option] : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this) : null\n      }, void 0, false))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)) : null, stepsData.length > 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-primary align-self-end\",\n        onClick: e => handleOnSubmit(e),\n        children: \"Finish\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true);\n};\n\n_s(FormMultiSteps, \"owS822woGRtU7OaNZU3qfOEJims=\", false, function () {\n  return [useTemplateContext];\n});\n\n_c = FormMultiSteps;\nexport default FormMultiSteps;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormMultiSteps\");","map":{"version":3,"names":["React","useTemplateContext","FormMultiSteps","templateOptions","templateOptionsNames","setCurrentTemplateData","currentTemplateData","templateDataList","templateContext","emptyModel","reduce","o","key","Object","assign","stepsData","setStepsData","useState","length","handleOnAdd","e","newModel","orden","handleOnChange","map","step","index","parseInt","target","id","name","value","handleOnSubmit","preventDefault","console","log","renderResult","currentStep","option","isEditable","displayName"],"sources":["/Users/candeaznarez/Documents/Programacion/Repositorios/adobe-template-generator/src/components/formGenerators/formMultiSteps.tsx"],"sourcesContent":["import React from \"react\";\nimport { useTemplateContext } from \"../../context/index\";\n\nconst FormMultiSteps = () => {\n  const {\n    templateOptions,\n    templateOptionsNames,\n    setCurrentTemplateData,\n    currentTemplateData,\n    templateDataList\n  } = useTemplateContext().templateContext;\n  const emptyModel = templateOptionsNames.reduce(\n    (o, key) => key !== \"orden\" ? Object.assign(o, { [key]: \"\" }): Object.assign(o, { [key]: 1 }),\n    {}\n  );\n\n  const [stepsData, setStepsData] = React.useState(templateDataList.length ? templateDataList : [emptyModel]);\n\n  const handleOnAdd = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n    const newModel = { ...emptyModel, orden: stepsData.length + 1 };\n    setStepsData([...stepsData, newModel]);\n  };\n\n  const handleOnChange = (e: React.FormEvent<HTMLFormElement>) => {\n    setStepsData(\n      stepsData.map((step, index) => {\n        if (parseInt((e.target as HTMLInputElement).id) === index) {\n          return (step = {\n            ...step,\n            [(e.target as HTMLInputElement).name]: (\n              e.target as HTMLInputElement\n            ).value,\n          });\n        }\n        return step;\n      })\n    );\n  };\n\n  const handleOnSubmit = (\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\n  ) => {\n    e.preventDefault();\n    console.log(stepsData);\n    setCurrentTemplateData({\n      ...currentTemplateData,\n      templateDataList: stepsData.map(step => ({...step})),\n      renderResult: true,\n      currentStep: 3\n    });\n  };\n\n  return (\n    <>\n      <div className=\"d-flex flex-wrap justify-content-end gap-2\">\n        <button className=\"btn-alert\" onClick={(e) => handleOnAdd(e)}>\n          Add\n        </button>\n        <button className=\"btn-primary\" onClick={(e) => handleOnSubmit(e)}>\n          Finish\n        </button>\n      </div>\n      {stepsData && templateOptions\n        ? stepsData.map((step, index) => (\n            <form\n              id={`${index}`}\n              onChange={(e) => handleOnChange(e)}\n              className=\"row py-4\"\n            >\n              <div className=\"col-12 mb-3\">\n                <h4>Step {index + 1}</h4>\n              </div>\n              {templateOptions.map((option) => (\n                <>\n                  {option.isEditable ? (\n                    <div className=\"col-6 mb-3\">\n                      <label className=\"form-label  text-capitalize\">\n                        {option.displayName}\n                      </label>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        id={`${index}`}\n                        placeholder=\"\"\n                        name={option.option}\n                        value={stepsData ? stepsData[index][option.option]: ''}\n                      />\n                    </div>\n                  ) : null}\n                </>\n              ))}\n            </form>\n          ))\n        : null}\n      {stepsData.length > 1 ? (\n        <div className=\"d-flex\">\n          <button\n            className=\"btn-primary align-self-end\"\n            onClick={(e) => handleOnSubmit(e)}\n          >\n            Finish\n          </button>\n        </div>\n      ) : null}\n    </>\n  );\n};\n\nexport default FormMultiSteps;\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,kBAAT,QAAmC,qBAAnC;;;;AAEA,MAAMC,cAAc,GAAG,MAAM;EAAA;;EAC3B,MAAM;IACJC,eADI;IAEJC,oBAFI;IAGJC,sBAHI;IAIJC,mBAJI;IAKJC;EALI,IAMFN,kBAAkB,GAAGO,eANzB;EAOA,MAAMC,UAAU,GAAGL,oBAAoB,CAACM,MAArB,CACjB,CAACC,CAAD,EAAIC,GAAJ,KAAYA,GAAG,KAAK,OAAR,GAAkBC,MAAM,CAACC,MAAP,CAAcH,CAAd,EAAiB;IAAE,CAACC,GAAD,GAAO;EAAT,CAAjB,CAAlB,GAAmDC,MAAM,CAACC,MAAP,CAAcH,CAAd,EAAiB;IAAE,CAACC,GAAD,GAAO;EAAT,CAAjB,CAD9C,EAEjB,EAFiB,CAAnB;EAKA,MAAM,CAACG,SAAD,EAAYC,YAAZ,IAA4BhB,KAAK,CAACiB,QAAN,CAAeV,gBAAgB,CAACW,MAAjB,GAA0BX,gBAA1B,GAA6C,CAACE,UAAD,CAA5D,CAAlC;;EAEA,MAAMU,WAAW,GAAIC,CAAD,IAAwD;IAC1E,MAAMC,QAAQ,GAAG,EAAE,GAAGZ,UAAL;MAAiBa,KAAK,EAAEP,SAAS,CAACG,MAAV,GAAmB;IAA3C,CAAjB;IACAF,YAAY,CAAC,CAAC,GAAGD,SAAJ,EAAeM,QAAf,CAAD,CAAZ;EACD,CAHD;;EAKA,MAAME,cAAc,GAAIH,CAAD,IAAyC;IAC9DJ,YAAY,CACVD,SAAS,CAACS,GAAV,CAAc,CAACC,IAAD,EAAOC,KAAP,KAAiB;MAC7B,IAAIC,QAAQ,CAAEP,CAAC,CAACQ,MAAH,CAA+BC,EAAhC,CAAR,KAAgDH,KAApD,EAA2D;QACzD,OAAQD,IAAI,GAAG,EACb,GAAGA,IADU;UAEb,CAAEL,CAAC,CAACQ,MAAH,CAA+BE,IAAhC,GACEV,CAAC,CAACQ,MADmC,CAErCG;QAJW,CAAf;MAMD;;MACD,OAAON,IAAP;IACD,CAVD,CADU,CAAZ;EAaD,CAdD;;EAgBA,MAAMO,cAAc,GAClBZ,CADqB,IAElB;IACHA,CAAC,CAACa,cAAF;IACAC,OAAO,CAACC,GAAR,CAAYpB,SAAZ;IACAV,sBAAsB,CAAC,EACrB,GAAGC,mBADkB;MAErBC,gBAAgB,EAAEQ,SAAS,CAACS,GAAV,CAAcC,IAAI,KAAK,EAAC,GAAGA;MAAJ,CAAL,CAAlB,CAFG;MAGrBW,YAAY,EAAE,IAHO;MAIrBC,WAAW,EAAE;IAJQ,CAAD,CAAtB;EAMD,CAXD;;EAaA,oBACE;IAAA,wBACE;MAAK,SAAS,EAAC,4CAAf;MAAA,wBACE;QAAQ,SAAS,EAAC,WAAlB;QAA8B,OAAO,EAAGjB,CAAD,IAAOD,WAAW,CAACC,CAAD,CAAzD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAIE;QAAQ,SAAS,EAAC,aAAlB;QAAgC,OAAO,EAAGA,CAAD,IAAOY,cAAc,CAACZ,CAAD,CAA9D;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAJF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,EASGL,SAAS,IAAIZ,eAAb,GACGY,SAAS,CAACS,GAAV,CAAc,CAACC,IAAD,EAAOC,KAAP,kBACZ;MACE,EAAE,EAAG,GAAEA,KAAM,EADf;MAEE,QAAQ,EAAGN,CAAD,IAAOG,cAAc,CAACH,CAAD,CAFjC;MAGE,SAAS,EAAC,UAHZ;MAAA,wBAKE;QAAK,SAAS,EAAC,aAAf;QAAA,uBACE;UAAA,oBAAUM,KAAK,GAAG,CAAlB;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QALF,EAQGvB,eAAe,CAACqB,GAAhB,CAAqBc,MAAD,iBACnB;QAAA,UACGA,MAAM,CAACC,UAAP,gBACC;UAAK,SAAS,EAAC,YAAf;UAAA,wBACE;YAAO,SAAS,EAAC,6BAAjB;YAAA,UACGD,MAAM,CAACE;UADV;YAAA;YAAA;YAAA;UAAA,QADF,eAIE;YACE,IAAI,EAAC,MADP;YAEE,SAAS,EAAC,cAFZ;YAGE,EAAE,EAAG,GAAEd,KAAM,EAHf;YAIE,WAAW,EAAC,EAJd;YAKE,IAAI,EAAEY,MAAM,CAACA,MALf;YAME,KAAK,EAAEvB,SAAS,GAAGA,SAAS,CAACW,KAAD,CAAT,CAAiBY,MAAM,CAACA,MAAxB,CAAH,GAAoC;UANtD;YAAA;YAAA;YAAA;UAAA,QAJF;QAAA;UAAA;UAAA;UAAA;QAAA,QADD,GAcG;MAfN,iBADD,CARH;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,CADH,GA+BG,IAxCN,EAyCGvB,SAAS,CAACG,MAAV,GAAmB,CAAnB,gBACC;MAAK,SAAS,EAAC,QAAf;MAAA,uBACE;QACE,SAAS,EAAC,4BADZ;QAEE,OAAO,EAAGE,CAAD,IAAOY,cAAc,CAACZ,CAAD,CAFhC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADD,GASG,IAlDN;EAAA,gBADF;AAsDD,CAvGD;;GAAMlB,c;UAOAD,kB;;;KAPAC,c;AAyGN,eAAeA,cAAf"},"metadata":{},"sourceType":"module"}