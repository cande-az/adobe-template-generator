{"ast":null,"code":"import _regeneratorRuntime from\"/Users/candeaznarez/Documents/Programacion/Repositorios/adobe-template-generator/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/candeaznarez/Documents/Programacion/Repositorios/adobe-template-generator/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/candeaznarez/Documents/Programacion/Repositorios/adobe-template-generator/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/candeaznarez/Documents/Programacion/Repositorios/adobe-template-generator/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{templates}from\"../templates\";import{useTemplateContext}from\"../context/index\";import PreviewTemplateInfo from\"./previewTemplateInfo\";import cleanData from\"../utils/cleanData\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StepOne=function StepOne(){var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),selectTemplate=_React$useState2[0],setSelectTemplate=_React$useState2[1];var _React$useState3=React.useState('-1'),_React$useState4=_slicedToArray(_React$useState3,2),selectTemplateIndex=_React$useState4[0],setSelectTemplateIndex=_React$useState4[1];var _useTemplateContext$t=useTemplateContext().templateContext,setCurrentTemplateData=_useTemplateContext$t.setCurrentTemplateData,currentTemplateData=_useTemplateContext$t.currentTemplateData;var generateFormTemplate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var template;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return import(\"../templates/instances/\".concat(selectTemplate,\".tsx\"));case 3:template=_context.sent.default;cleanData(currentTemplateData,setCurrentTemplateData);setCurrentTemplateData(_objectSpread(_objectSpread({},currentTemplateData),{},{TemplateComponent:template.formTemplate,templateGeneratorFunction:template.templateGenerator,templateOptions:template.options,templateOptionsNames:template.optionsNames,currentStep:2}));case 6:case\"end\":return _context.stop();}}},_callee);}));return function generateFormTemplate(_x){return _ref.apply(this,arguments);};}();React.useEffect(function(){//eslint-disable-next-line\nconsole.log('selectTemplateIndex',selectTemplateIndex);},[selectTemplateIndex]);return/*#__PURE__*/_jsx(\"div\",{className:\"step-content-container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return generateFormTemplate(e);},className:\"d-flex gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid \",children:[/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){setSelectTemplate(e.target.value);setSelectTemplateIndex(e.target.options[e.target.options.selectedIndex].id);},value:selectTemplate,className:\"form-select\",\"aria-label\":\"Default select example\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",id:\"-1\",children:\"Seleccionar plantilla\"}),templates.map(function(temp,idx){return/*#__PURE__*/_jsx(\"option\",{value:temp.value,id:\"\".concat(idx),children:temp.name});})]}),/*#__PURE__*/_jsx(\"input\",{className:\"btn-primary mt-3\",type:\"submit\",value:\"Siguiente\"})]}),parseInt(selectTemplateIndex)>=0?/*#__PURE__*/_jsx(PreviewTemplateInfo,{img:templates[parseInt(selectTemplateIndex)].image,description:templates[parseInt(selectTemplateIndex)].description}):null]})});};export default StepOne;","map":{"version":3,"names":["React","templates","useTemplateContext","PreviewTemplateInfo","cleanData","StepOne","useState","selectTemplate","setSelectTemplate","selectTemplateIndex","setSelectTemplateIndex","templateContext","setCurrentTemplateData","currentTemplateData","generateFormTemplate","e","preventDefault","template","default","TemplateComponent","formTemplate","templateGeneratorFunction","templateGenerator","templateOptions","options","templateOptionsNames","optionsNames","currentStep","useEffect","console","log","target","value","selectedIndex","id","map","temp","idx","name","parseInt","image","description"],"sources":["/Users/candeaznarez/Documents/Programacion/Repositorios/adobe-template-generator/src/components/stepOne.tsx"],"sourcesContent":["import React from \"react\";\nimport { templates } from \"../templates\";\nimport { useTemplateContext } from \"../context/index\";\nimport { IsTemplateGenerator } from \"../interfaces\";\nimport PreviewTemplateInfo from \"./previewTemplateInfo\";\nimport cleanData from \"../utils/cleanData\";\n\nconst StepOne = () => {\n  const [selectTemplate, setSelectTemplate] = React.useState(\"\");\n  const [selectTemplateIndex, setSelectTemplateIndex] = React.useState('-1')\n  const { setCurrentTemplateData, currentTemplateData } =\n    useTemplateContext().templateContext;\n\n  const generateFormTemplate = async function (\n    e: React.FormEvent<HTMLFormElement>\n  ) {\n    e.preventDefault();\n    const template: IsTemplateGenerator = (\n      await import(`../templates/instances/${selectTemplate}.tsx`)\n    ).default;\n\n    cleanData(currentTemplateData,setCurrentTemplateData)\n\n    setCurrentTemplateData({\n      ...currentTemplateData,\n      TemplateComponent: template.formTemplate,\n      templateGeneratorFunction: template.templateGenerator,\n      templateOptions: template.options,\n      templateOptionsNames: template.optionsNames,\n      currentStep: 2\n    });\n  };\n\nReact.useEffect(()=>{\n//eslint-disable-next-line\nconsole.log('selectTemplateIndex',selectTemplateIndex);\n },[selectTemplateIndex])\n\n  return (\n    <div className=\"step-content-container\">\n      <form onSubmit={(e) => generateFormTemplate(e)} className='d-flex gap-3'>\n        <div className=\"container-fluid \">\n          <select\n          \n            onChange={(e) => {setSelectTemplate(e.target.value);setSelectTemplateIndex(e.target.options[e.target.options.selectedIndex].id);}}\n            value={selectTemplate}\n            className=\"form-select\" aria-label=\"Default select example\"\n          >\n            <option value=\"\" id='-1'>Seleccionar plantilla</option>\n            {templates.map((temp,idx) => (\n              <option value={temp.value} id={`${idx}`}>{temp.name}</option>\n            ))}\n          </select>\n          <input className=\"btn-primary mt-3\" type=\"submit\" value=\"Siguiente\"/>\n        </div>\n        {parseInt(selectTemplateIndex) >= 0 ? <PreviewTemplateInfo img={templates[parseInt(selectTemplateIndex)].image} description={templates[parseInt(selectTemplateIndex)].description}/> : null}\n      </form>\n    </div>\n  );\n};\n\nexport default StepOne;\n"],"mappings":"uqBAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,KAA0B,cAA1B,CACA,OAASC,kBAAT,KAAmC,kBAAnC,CAEA,MAAOC,oBAAP,KAAgC,uBAAhC,CACA,MAAOC,UAAP,KAAsB,oBAAtB,C,wFAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CACpB,oBAA4CL,KAAK,CAACM,QAAN,CAAe,EAAf,CAA5C,oDAAOC,cAAP,qBAAuBC,iBAAvB,qBACA,qBAAsDR,KAAK,CAACM,QAAN,CAAe,IAAf,CAAtD,qDAAOG,mBAAP,qBAA4BC,sBAA5B,qBACA,0BACER,kBAAkB,GAAGS,eADvB,CAAQC,sBAAR,uBAAQA,sBAAR,CAAgCC,mBAAhC,uBAAgCA,mBAAhC,CAGA,GAAMC,qBAAoB,4FAAG,iBAC3BC,CAD2B,iIAG3BA,CAAC,CAACC,cAAF,GAH2B,sBAKnB,yCAAiCT,cAAjC,SALmB,QAIrBU,QAJqB,eAMzBC,OANyB,CAQ3Bd,SAAS,CAACS,mBAAD,CAAqBD,sBAArB,CAAT,CAEAA,sBAAsB,gCACjBC,mBADiB,MAEpBM,iBAAiB,CAAEF,QAAQ,CAACG,YAFR,CAGpBC,yBAAyB,CAAEJ,QAAQ,CAACK,iBAHhB,CAIpBC,eAAe,CAAEN,QAAQ,CAACO,OAJN,CAKpBC,oBAAoB,CAAER,QAAQ,CAACS,YALX,CAMpBC,WAAW,CAAE,CANO,GAAtB,CAV2B,sDAAH,kBAApBb,qBAAoB,4CAA1B,CAoBFd,KAAK,CAAC4B,SAAN,CAAgB,UAAI,CACpB;AACAC,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAAkCrB,mBAAlC,EACE,CAHF,CAGG,CAACA,mBAAD,CAHH,EAKE,mBACE,YAAK,SAAS,CAAC,wBAAf,uBACE,cAAM,QAAQ,CAAE,kBAACM,CAAD,QAAOD,qBAAoB,CAACC,CAAD,CAA3B,EAAhB,CAAgD,SAAS,CAAC,cAA1D,wBACE,aAAK,SAAS,CAAC,kBAAf,wBACE,gBAEE,QAAQ,CAAE,kBAACA,CAAD,CAAO,CAACP,iBAAiB,CAACO,CAAC,CAACgB,MAAF,CAASC,KAAV,CAAjB,CAAkCtB,sBAAsB,CAACK,CAAC,CAACgB,MAAF,CAASP,OAAT,CAAiBT,CAAC,CAACgB,MAAF,CAASP,OAAT,CAAiBS,aAAlC,EAAiDC,EAAlD,CAAtB,CAA6E,CAFnI,CAGE,KAAK,CAAE3B,cAHT,CAIE,SAAS,CAAC,aAJZ,CAI0B,aAAW,wBAJrC,wBAME,eAAQ,KAAK,CAAC,EAAd,CAAiB,EAAE,CAAC,IAApB,mCANF,CAOGN,SAAS,CAACkC,GAAV,CAAc,SAACC,IAAD,CAAMC,GAAN,qBACb,eAAQ,KAAK,CAAED,IAAI,CAACJ,KAApB,CAA2B,EAAE,WAAKK,GAAL,CAA7B,UAA0CD,IAAI,CAACE,IAA/C,EADa,EAAd,CAPH,GADF,cAYE,cAAO,SAAS,CAAC,kBAAjB,CAAoC,IAAI,CAAC,QAAzC,CAAkD,KAAK,CAAC,WAAxD,EAZF,GADF,CAeGC,QAAQ,CAAC9B,mBAAD,CAAR,EAAiC,CAAjC,cAAqC,KAAC,mBAAD,EAAqB,GAAG,CAAER,SAAS,CAACsC,QAAQ,CAAC9B,mBAAD,CAAT,CAAT,CAAyC+B,KAAnE,CAA0E,WAAW,CAAEvC,SAAS,CAACsC,QAAQ,CAAC9B,mBAAD,CAAT,CAAT,CAAyCgC,WAAhI,EAArC,CAAsL,IAfzL,GADF,EADF,CAqBD,CApDD,CAsDA,cAAepC,QAAf"},"metadata":{},"sourceType":"module"}