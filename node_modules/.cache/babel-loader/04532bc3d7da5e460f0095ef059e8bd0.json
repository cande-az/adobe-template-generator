{"ast":null,"code":"import _toConsumableArray from\"/Users/candeaznarez/Documents/Programacion/Repositorios/adobe-template-generator/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/candeaznarez/Documents/Programacion/Repositorios/adobe-template-generator/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/candeaznarez/Documents/Programacion/Repositorios/adobe-template-generator/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _defineProperty from\"/Users/candeaznarez/Documents/Programacion/Repositorios/adobe-template-generator/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import React from\"react\";import{useTemplateContext}from\"../../context/index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var FormMultiSteps=function FormMultiSteps(){var _useTemplateContext$t=useTemplateContext().templateContext,templateOptions=_useTemplateContext$t.templateOptions,templateOptionsNames=_useTemplateContext$t.templateOptionsNames,setCurrentTemplateData=_useTemplateContext$t.setCurrentTemplateData,currentTemplateData=_useTemplateContext$t.currentTemplateData,templateDataList=_useTemplateContext$t.templateDataList;var emptyModel=templateOptionsNames.reduce(function(o,key){return key!==\"orden\"?Object.assign(o,_defineProperty({},key,\"\")):Object.assign(o,_defineProperty({},key,1));},{});var _React$useState=React.useState(templateDataList.length?templateDataList:[emptyModel]),_React$useState2=_slicedToArray(_React$useState,2),stepsData=_React$useState2[0],setStepsData=_React$useState2[1];var handleOnAdd=function handleOnAdd(e){var newModel=_objectSpread(_objectSpread({},emptyModel),{},{orden:stepsData.length+1});setStepsData([].concat(_toConsumableArray(stepsData),[newModel]));};var handleOnChange=function handleOnChange(e){setStepsData(stepsData.map(function(step,index){if(parseInt(e.target.id)===index){return step=_objectSpread(_objectSpread({},step),{},_defineProperty({},e.target.name,e.target.value));}return step;}));};var handleOnSubmit=function handleOnSubmit(e){e.preventDefault();console.log(stepsData);setCurrentTemplateData(_objectSpread(_objectSpread({},currentTemplateData),{},{templateDataList:stepsData.map(function(step){return _objectSpread(_objectSpread({},step),{},{total:stepsData.length});}),renderResult:true,currentStep:3}));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-wrap justify-content-end gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-alert\",onClick:function onClick(e){return handleOnAdd(e);},children:\"Add\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",onClick:function onClick(e){return handleOnSubmit(e);},children:\"Finish\"})]}),stepsData&&templateOptions?stepsData.map(function(step,index){return/*#__PURE__*/_jsxs(\"form\",{id:\"\".concat(index),onChange:function onChange(e){return handleOnChange(e);},className:\"row py-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 mb-3\",children:/*#__PURE__*/_jsxs(\"h4\",{children:[\"Step \",index+1]})}),templateOptions.map(function(option){return/*#__PURE__*/_jsx(_Fragment,{children:option.isEditable?/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label  text-capitalize\",children:option.displayName}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"\".concat(index),placeholder:\"\",name:option.option,value:stepsData?stepsData[index][option.option]:''})]}):null});})]});}):null,stepsData.length>1?/*#__PURE__*/_jsx(\"div\",{className:\"d-flex\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary align-self-end\",onClick:function onClick(e){return handleOnSubmit(e);},children:\"Finish\"})}):null]});};export default FormMultiSteps;","map":{"version":3,"names":["React","useTemplateContext","FormMultiSteps","templateContext","templateOptions","templateOptionsNames","setCurrentTemplateData","currentTemplateData","templateDataList","emptyModel","reduce","o","key","Object","assign","useState","length","stepsData","setStepsData","handleOnAdd","e","newModel","orden","handleOnChange","map","step","index","parseInt","target","id","name","value","handleOnSubmit","preventDefault","console","log","total","renderResult","currentStep","option","isEditable","displayName"],"sources":["/Users/candeaznarez/Documents/Programacion/Repositorios/adobe-template-generator/src/components/formGenerators/formMultiSteps.tsx"],"sourcesContent":["import React from \"react\";\nimport { useTemplateContext } from \"../../context/index\";\n\nconst FormMultiSteps = () => {\n  const {\n    templateOptions,\n    templateOptionsNames,\n    setCurrentTemplateData,\n    currentTemplateData,\n    templateDataList\n  } = useTemplateContext().templateContext;\n  const emptyModel = templateOptionsNames.reduce(\n    (o, key) => key !== \"orden\" ? Object.assign(o, { [key]: \"\" }): Object.assign(o, { [key]: 1 }),\n    {}\n  );\n\n  const [stepsData, setStepsData] = React.useState(templateDataList.length ? templateDataList : [emptyModel]);\n\n  const handleOnAdd = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n    const newModel = { ...emptyModel, orden: stepsData.length + 1 };\n    setStepsData([...stepsData, newModel]);\n  };\n\n  const handleOnChange = (e: React.FormEvent<HTMLFormElement>) => {\n    setStepsData(\n      stepsData.map((step, index) => {\n        if (parseInt((e.target as HTMLInputElement).id) === index) {\n          return (step = {\n            ...step,\n            [(e.target as HTMLInputElement).name]: (\n              e.target as HTMLInputElement\n            ).value,\n          });\n        }\n        return step;\n      })\n    );\n  };\n\n  const handleOnSubmit = (\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\n  ) => {\n    e.preventDefault();\n    console.log(stepsData);\n    setCurrentTemplateData({\n      ...currentTemplateData,\n      templateDataList: stepsData.map(step => ({...step, total: stepsData.length})),\n      renderResult: true,\n      currentStep: 3\n    });\n  };\n\n  return (\n    <>\n      <div className=\"d-flex flex-wrap justify-content-end gap-2\">\n        <button className=\"btn-alert\" onClick={(e) => handleOnAdd(e)}>\n          Add\n        </button>\n        <button className=\"btn-primary\" onClick={(e) => handleOnSubmit(e)}>\n          Finish\n        </button>\n      </div>\n      {stepsData && templateOptions\n        ? stepsData.map((step, index) => (\n            <form\n              id={`${index}`}\n              onChange={(e) => handleOnChange(e)}\n              className=\"row py-4\"\n            >\n              <div className=\"col-12 mb-3\">\n                <h4>Step {index + 1}</h4>\n              </div>\n              {templateOptions.map((option) => (\n                <>\n                  {option.isEditable ? (\n                    <div className=\"col-6 mb-3\">\n                      <label className=\"form-label  text-capitalize\">\n                        {option.displayName}\n                      </label>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        id={`${index}`}\n                        placeholder=\"\"\n                        name={option.option}\n                        value={stepsData ? stepsData[index][option.option]: ''}\n                      />\n                    </div>\n                  ) : null}\n                </>\n              ))}\n            </form>\n          ))\n        : null}\n      {stepsData.length > 1 ? (\n        <div className=\"d-flex\">\n          <button\n            className=\"btn-primary align-self-end\"\n            onClick={(e) => handleOnSubmit(e)}\n          >\n            Finish\n          </button>\n        </div>\n      ) : null}\n    </>\n  );\n};\n\nexport default FormMultiSteps;\n"],"mappings":"iqBAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,kBAAT,KAAmC,qBAAnC,C,6IAEA,GAAMC,eAAc,CAAG,QAAjBA,eAAiB,EAAM,CAC3B,0BAMID,kBAAkB,GAAGE,eANzB,CACEC,eADF,uBACEA,eADF,CAEEC,oBAFF,uBAEEA,oBAFF,CAGEC,sBAHF,uBAGEA,sBAHF,CAIEC,mBAJF,uBAIEA,mBAJF,CAKEC,gBALF,uBAKEA,gBALF,CAOA,GAAMC,WAAU,CAAGJ,oBAAoB,CAACK,MAArB,CACjB,SAACC,CAAD,CAAIC,GAAJ,QAAYA,IAAG,GAAK,OAAR,CAAkBC,MAAM,CAACC,MAAP,CAAcH,CAAd,oBAAoBC,GAApB,CAA0B,EAA1B,EAAlB,CAAmDC,MAAM,CAACC,MAAP,CAAcH,CAAd,oBAAoBC,GAApB,CAA0B,CAA1B,EAA/D,EADiB,CAEjB,EAFiB,CAAnB,CAKA,oBAAkCZ,KAAK,CAACe,QAAN,CAAeP,gBAAgB,CAACQ,MAAjB,CAA0BR,gBAA1B,CAA6C,CAACC,UAAD,CAA5D,CAAlC,oDAAOQ,SAAP,qBAAkBC,YAAlB,qBAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,CAACC,CAAD,CAAwD,CAC1E,GAAMC,SAAQ,gCAAQZ,UAAR,MAAoBa,KAAK,CAAEL,SAAS,CAACD,MAAV,CAAmB,CAA9C,EAAd,CACAE,YAAY,8BAAKD,SAAL,GAAgBI,QAAhB,GAAZ,CACD,CAHD,CAKA,GAAME,eAAc,CAAG,QAAjBA,eAAiB,CAACH,CAAD,CAAyC,CAC9DF,YAAY,CACVD,SAAS,CAACO,GAAV,CAAc,SAACC,IAAD,CAAOC,KAAP,CAAiB,CAC7B,GAAIC,QAAQ,CAAEP,CAAC,CAACQ,MAAH,CAA+BC,EAAhC,CAAR,GAAgDH,KAApD,CAA2D,CACzD,MAAQD,KAAI,gCACPA,IADO,wBAERL,CAAC,CAACQ,MAAH,CAA+BE,IAFtB,CAGRV,CAAC,CAACQ,MADmC,CAErCG,KAJQ,EAAZ,CAMD,CACD,MAAON,KAAP,CACD,CAVD,CADU,CAAZ,CAaD,CAdD,CAgBA,GAAMO,eAAc,CAAG,QAAjBA,eAAiB,CACrBZ,CADqB,CAElB,CACHA,CAAC,CAACa,cAAF,GACAC,OAAO,CAACC,GAAR,CAAYlB,SAAZ,EACAX,sBAAsB,gCACjBC,mBADiB,MAEpBC,gBAAgB,CAAES,SAAS,CAACO,GAAV,CAAc,SAAAC,IAAI,wCAASA,IAAT,MAAeW,KAAK,CAAEnB,SAAS,CAACD,MAAhC,IAAlB,CAFE,CAGpBqB,YAAY,CAAE,IAHM,CAIpBC,WAAW,CAAE,CAJO,GAAtB,CAMD,CAXD,CAaA,mBACE,wCACE,aAAK,SAAS,CAAC,4CAAf,wBACE,eAAQ,SAAS,CAAC,WAAlB,CAA8B,OAAO,CAAE,iBAAClB,CAAD,QAAOD,YAAW,CAACC,CAAD,CAAlB,EAAvC,iBADF,cAIE,eAAQ,SAAS,CAAC,aAAlB,CAAgC,OAAO,CAAE,iBAACA,CAAD,QAAOY,eAAc,CAACZ,CAAD,CAArB,EAAzC,oBAJF,GADF,CASGH,SAAS,EAAIb,eAAb,CACGa,SAAS,CAACO,GAAV,CAAc,SAACC,IAAD,CAAOC,KAAP,qBACZ,cACE,EAAE,WAAKA,KAAL,CADJ,CAEE,QAAQ,CAAE,kBAACN,CAAD,QAAOG,eAAc,CAACH,CAAD,CAArB,EAFZ,CAGE,SAAS,CAAC,UAHZ,wBAKE,YAAK,SAAS,CAAC,aAAf,uBACE,8BAAUM,KAAK,CAAG,CAAlB,GADF,EALF,CAQGtB,eAAe,CAACoB,GAAhB,CAAoB,SAACe,MAAD,qBACnB,yBACGA,MAAM,CAACC,UAAP,cACC,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,SAAS,CAAC,6BAAjB,UACGD,MAAM,CAACE,WADV,EADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,WAAKf,KAAL,CAHJ,CAIE,WAAW,CAAC,EAJd,CAKE,IAAI,CAAEa,MAAM,CAACA,MALf,CAME,KAAK,CAAEtB,SAAS,CAAGA,SAAS,CAACS,KAAD,CAAT,CAAiBa,MAAM,CAACA,MAAxB,CAAH,CAAoC,EANtD,EAJF,GADD,CAcG,IAfN,EADmB,EAApB,CARH,GADY,EAAd,CADH,CA+BG,IAxCN,CAyCGtB,SAAS,CAACD,MAAV,CAAmB,CAAnB,cACC,YAAK,SAAS,CAAC,QAAf,uBACE,eACE,SAAS,CAAC,4BADZ,CAEE,OAAO,CAAE,iBAACI,CAAD,QAAOY,eAAc,CAACZ,CAAD,CAArB,EAFX,oBADF,EADD,CASG,IAlDN,GADF,CAsDD,CAvGD,CAyGA,cAAelB,eAAf"},"metadata":{},"sourceType":"module"}